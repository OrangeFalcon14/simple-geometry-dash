var w=Object.defineProperty;var m=(h,t,e)=>t in h?w(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var i=(h,t,e)=>(m(h,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const x=.5,P=0,O=3,p=10,a=520;console.log(a);class T{constructor(t,e,r,s){i(this,"width");i(this,"height");i(this,"x");i(this,"y");i(this,"speedX",p);i(this,"speedY",0);i(this,"gravity",x);i(this,"upAccel",0);i(this,"downVelocity",0);i(this,"upVelocity",0);i(this,"shouldJump",!1);i(this,"image");[this.width,this.height,this.x,this.y]=[t,e,r,s],this.image=new Image(this.width,this.height),this.image.src="./assets/player.png"}update(){this.downVelocity+=this.gravity,this.upVelocity+=this.upAccel,this.upAccel>0&&(this.upAccel-=this.gravity),this.x<l.width/2.5-this.width&&(this.x+=this.speedX),this.y+=this.speedY+this.downVelocity-this.upVelocity,this.y>a-this.height&&(this.y=a-this.height,this.upAccel=0,this.upVelocity=0,this.downVelocity*=-1*P,this.shouldJump&&(this.upAccel=O,this.shouldJump=!1))}render(){o.drawImage(this.image,this.x,this.y,this.width,this.height)}jump(){Math.abs(this.y+this.height-a)<40&&(this.shouldJump=!0)}isHittingTriangle(t,e,r,s){if(this.x+this.width>t&&this.x<t+r&&this.y+this.height>e-s)return!0}}function V(h){window.addEventListener("keydown",t=>{for(let[e,r]of Object.entries(h))t.key==e&&r()})}class b{constructor(t){i(this,"height");this.height=t}render(){o.beginPath(),o.fillStyle="#167456",o.fillRect(0,this.height,l.width,l.height-this.height),o.fill(),o.closePath()}}class v{constructor(t,e,r){i(this,"size",50);i(this,"width");i(this,"height");i(this,"x");i(this,"y");i(this,"type");this.x=t,this.y=e,this.type=r,this.height=this.size,this.width=this.size*this.type}update(){this.x-=p}drawTriangle(t){let e=this.x+this.size*t,r=this.y;console.log(e,r),o.beginPath(),o.strokeStyle="#29ce9a",o.fillStyle="#143a2e",o.lineTo(e+50,r),o.lineTo(e+this.size/2,r-this.size),o.lineTo(e,r),o.fill(),o.stroke(),o.closePath()}render(){for(let t=0;t<this.type;t++)this.drawTriangle(t)}}const y=90;let f=0;const l=document.querySelector("#canvas"),o=l.getContext("2d");l.width=1280;l.height=720;const c=[],d=new T(50,50,20,520/3),A={" ":()=>d.jump()};V(A);const E=new b(520);let g=!1;function M(){o.clearRect(0,0,l.width,l.height),E.render();for(let h=c.length-1;h>=0;h--){const t=c[h];t.x+t.width<0&&c.splice(h,1),t.update(),t.render(),d.isHittingTriangle(t.x,t.y,t.width,t.height)&&(g=!0)}if(!g){if(f%y==3){let h=2*Math.floor(Math.random()*100-100);c.push(new v(l.width+h,520,Math.ceil(Math.random()*3))),console.log(c)}d.update(),d.render()}f++}setInterval(M,1e3/y);
